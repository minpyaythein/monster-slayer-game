<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0" />
		<title>Vue Basics</title>
		<link
			href="https://fonts.googleapis.com/css2?family=Jost:wght@400;700&display=swap"
			rel="stylesheet" />
		<link
			rel="stylesheet"
			href="styles.css" />
		<script
			src="https://unpkg.com/vue@next"
			defer></script>
		<script
			src="app.js"
			defer></script>
	</head>
	<body>
		<header>
			<h1>Monster Slayer</h1>
		</header>
		<div id="game">
			<section
				id="monster"
				class="container">
				<h2>Monster Health</h2>
				<div class="healthbar">
					<div
						class="healthbar_value"
						:style="monsterHealthBar"></div>
				</div>
			</section>
			<section
				id="player"
				class="container">
				<h2>Your Health</h2>
				<div class="healthbar">
					<div
						class="healthbar_value"
						:style="playerHealthBar"></div>
				</div>
			</section>
			<section
				class="container"
				v-if="winner">
				<h2>Game Over!</h2>
				<h3 v-if="this.winner === 'player'">You Won!</h3>
				<h3 v-else-if="this.winner === 'monster'">You Lost!</h3>
				<h3 v-else>It is a draw!</h3>
				<button @click="this.startGame()">Start New Game</button>
			</section>
			<section
				id="controls"
				v-else>
				<button @click="this.attackMonster()">ATTACK</button>
				<button
					@click="this.specialAttackMonster()"
					:disabled="this.cooldown.specialAttack !== 0">
					SPECIAL ATTACK
				</button>
				<button
					@click="this.healPlayer()"
					:disabled="this.cooldown.heal !== 0">
					HEAL
				</button>
				<button @click="this.surrender()">SURRENDER</button>
			</section>
			<section
				id="log"
				class="container">
				<h2>Battle Log</h2>
				<ul>
					<li v-for="logMessage in this.logMessages">
						<span :class="{'log--player': logMessage.actionBy === 'player', 'log--monster': logMessage.actionBy === 'monster'}">
							{{ logMessage.actionBy === 'player' ? 'Player' : Monster }}
						</span>
						<span v-if="logMessage.actionType === 'heal'">
							heals himself for
							<span class="log--heal">{{ logMessage.actionValue }}</span>
						</span>
						<span v-else>
							attacks and deals
							<span class="log--heal">{{ logMessage.actionValue }}</span>
						</span>
					</li>
				</ul>
			</section>
		</div>
	</body>
</html>
